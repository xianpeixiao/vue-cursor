import{d as U,ac as w,f as B,ah as q,g as h,a as e,w as a,r as s,u as C,o as E,l as p,h as c,ag as F,G as g}from"./vendor-Dj3DD3mZ.js";import{_ as R}from"./index-sjx0lwRK.js";const I={class:"user-edit"},M={__name:"UserEdit",setup(T){const b=q(),V=C(),i=U(),t=w({username:"",realName:"",email:"",phone:"",department:"",role:""}),v={realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],department:[{required:!0,message:"请选择部门",trigger:"change"}],role:[{required:!0,message:"请选择角色",trigger:"change"}]};B(()=>{b.query.id&&Object.assign(t,{username:"admin",realName:"管理员",email:"admin@example.com",phone:"13800138000",department:"tech",role:"admin"})});const x=async u=>{u&&await u.validate(l=>{l&&(g.success("保存成功"),_())})},k=()=>{F.confirm("确定要重置该用户的密码吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{g.success("密码重置成功")}).catch(()=>{})},_=()=>{V.back()};return(u,l)=>{const d=s("el-input"),o=s("el-form-item"),n=s("el-option"),f=s("el-select"),m=s("el-button"),N=s("el-form"),y=s("el-card");return E(),h("div",I,[e(y,{class:"form-card"},{header:a(()=>l[7]||(l[7]=[c("div",{class:"card-header"},[c("h3",null,"编辑用户")],-1)])),default:a(()=>[e(N,{ref_key:"userFormRef",ref:i,model:t,rules:v,"label-width":"100px",class:"user-form"},{default:a(()=>[e(o,{label:"用户名",prop:"username"},{default:a(()=>[e(d,{modelValue:t.username,"onUpdate:modelValue":l[0]||(l[0]=r=>t.username=r),disabled:""},null,8,["modelValue"])]),_:1}),e(o,{label:"真实姓名",prop:"realName"},{default:a(()=>[e(d,{modelValue:t.realName,"onUpdate:modelValue":l[1]||(l[1]=r=>t.realName=r),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),e(o,{label:"邮箱",prop:"email"},{default:a(()=>[e(d,{modelValue:t.email,"onUpdate:modelValue":l[2]||(l[2]=r=>t.email=r),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),e(o,{label:"手机号",prop:"phone"},{default:a(()=>[e(d,{modelValue:t.phone,"onUpdate:modelValue":l[3]||(l[3]=r=>t.phone=r),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),e(o,{label:"部门",prop:"department"},{default:a(()=>[e(f,{modelValue:t.department,"onUpdate:modelValue":l[4]||(l[4]=r=>t.department=r),placeholder:"请选择部门"},{default:a(()=>[e(n,{label:"技术部",value:"tech"}),e(n,{label:"市场部",value:"marketing"}),e(n,{label:"销售部",value:"sales"}),e(n,{label:"人事部",value:"hr"})]),_:1},8,["modelValue"])]),_:1}),e(o,{label:"角色",prop:"role"},{default:a(()=>[e(f,{modelValue:t.role,"onUpdate:modelValue":l[5]||(l[5]=r=>t.role=r),placeholder:"请选择角色"},{default:a(()=>[e(n,{label:"普通用户",value:"user"}),e(n,{label:"管理员",value:"admin"})]),_:1},8,["modelValue"])]),_:1}),e(o,{label:"重置密码"},{default:a(()=>[e(m,{type:"warning",onClick:k},{default:a(()=>l[8]||(l[8]=[p("重置密码")])),_:1,__:[8]})]),_:1}),e(o,null,{default:a(()=>[e(m,{type:"primary",onClick:l[6]||(l[6]=r=>x(i.value))},{default:a(()=>l[9]||(l[9]=[p(" 保存 ")])),_:1,__:[9]}),e(m,{onClick:_},{default:a(()=>l[10]||(l[10]=[p("返回")])),_:1,__:[10]})]),_:1})]),_:1},8,["model"])]),_:1})])}}},G=R(M,[["__scopeId","data-v-1420ae67"]]);export{G as default};
