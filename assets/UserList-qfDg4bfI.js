import{d as R,e as m,h as A,i as w,a as e,w as t,r as o,u as G,o as H,q as s,j as g,ad as J,ae as K,af as O,L as _,ag as C,ac as k}from"./vendor-CNXQyEwd.js";import{_ as Q}from"./index-BhM35doy.js";const W={class:"user-list"},X={class:"toolbar"},Y={class:"pagination"},Z={__name:"UserList",setup(ee){const b=G(),u=R({username:"",department:""}),i=m(1),v=m(10),x=m(100),V=m([{id:1,username:"admin",realName:"管理员",email:"admin@example.com",phone:"13800138000",department:"tech",role:"admin",status:!0}]),z={tech:"技术部",marketing:"市场部",sales:"销售部",hr:"人事部"},U=n=>z[n]||n,B=()=>{},S=()=>{u.username="",u.department=""},$=()=>{b.push("/user/add")},L=n=>{b.push(`/user/edit?id=${n.id}`)},N=n=>{C.confirm(`确定要${n.status?"禁用":"启用"}该用户吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{n.status=!n.status,k.success(`${n.status?"启用":"禁用"}成功`)}).catch(()=>{})},T=n=>{C.confirm("删除后无法恢复，是否确认删除？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{k.success("删除成功")}).catch(()=>{})},E=n=>{v.value=n},M=n=>{i.value=n};return(n,l)=>{const D=o("el-input"),c=o("el-form-item"),p=o("el-option"),j=o("el-select"),f=o("el-icon"),d=o("el-button"),q=o("el-form"),r=o("el-table-column"),h=o("el-tag"),F=o("el-button-group"),I=o("el-table"),P=o("el-pagination");return H(),A("div",W,[w("div",X,[e(q,{inline:!0,model:u,class:"search-form"},{default:t(()=>[e(c,{label:"用户名"},{default:t(()=>[e(D,{modelValue:u.username,"onUpdate:modelValue":l[0]||(l[0]=a=>u.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(c,{label:"部门"},{default:t(()=>[e(j,{modelValue:u.department,"onUpdate:modelValue":l[1]||(l[1]=a=>u.department=a),placeholder:"请选择部门"},{default:t(()=>[e(p,{label:"全部",value:""}),e(p,{label:"技术部",value:"tech"}),e(p,{label:"市场部",value:"marketing"}),e(p,{label:"销售部",value:"sales"}),e(p,{label:"人事部",value:"hr"})]),_:1},8,["modelValue"])]),_:1}),e(c,null,{default:t(()=>[e(d,{type:"primary",onClick:B},{default:t(()=>[e(f,null,{default:t(()=>[e(g(J))]),_:1}),l[3]||(l[3]=s(" 查询 "))]),_:1,__:[3]}),e(d,{onClick:S},{default:t(()=>[e(f,null,{default:t(()=>[e(g(K))]),_:1}),l[4]||(l[4]=s(" 重置 "))]),_:1,__:[4]})]),_:1})]),_:1},8,["model"]),e(d,{type:"primary",onClick:$},{default:t(()=>[e(f,null,{default:t(()=>[e(g(O))]),_:1}),l[5]||(l[5]=s(" 添加用户 "))]),_:1,__:[5]})]),e(I,{data:V.value,stripe:"",style:{width:"100%"}},{default:t(()=>[e(r,{prop:"username",label:"用户名"}),e(r,{prop:"realName",label:"真实姓名"}),e(r,{prop:"email",label:"邮箱"}),e(r,{prop:"phone",label:"手机号"}),e(r,{prop:"department",label:"部门"},{default:t(a=>[s(_(U(a.row.department)),1)]),_:1}),e(r,{prop:"role",label:"角色"},{default:t(a=>[e(h,{type:a.row.role==="admin"?"danger":""},{default:t(()=>[s(_(a.row.role==="admin"?"管理员":"普通用户"),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"status",label:"状态"},{default:t(a=>[e(h,{type:a.row.status?"success":"info"},{default:t(()=>[s(_(a.row.status?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),e(r,{label:"操作",width:"200"},{default:t(a=>[e(F,null,{default:t(()=>[e(d,{size:"small",type:"primary",onClick:y=>L(a.row)},{default:t(()=>l[6]||(l[6]=[s(" 编辑 ")])),_:2,__:[6]},1032,["onClick"]),e(d,{size:"small",type:a.row.status?"warning":"success",onClick:y=>N(a.row)},{default:t(()=>[s(_(a.row.status?"禁用":"启用"),1)]),_:2},1032,["type","onClick"]),e(d,{size:"small",type:"danger",onClick:y=>T(a.row)},{default:t(()=>l[7]||(l[7]=[s(" 删除 ")])),_:2,__:[7]},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),w("div",Y,[e(P,{modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=a=>i.value=a),"current-page":i.value,"page-size":v.value,"page-sizes":[10,20,50,100],total:x.value,layout:"total, sizes, prev, pager, next",onSizeChange:E,onCurrentChange:M},null,8,["modelValue","current-page","page-size","total"])])])}}},le=Q(Z,[["__scopeId","data-v-4f03666f"]]);export{le as default};
